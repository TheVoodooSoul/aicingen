"use strict";(()=>{var e={};e.id=828,e.ids=[828],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2725:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>P,patchFetch:()=>R,requestAsyncStorage:()=>c,routeModule:()=>_,serverHooks:()=>l,staticGenerationAsyncStorage:()=>I});var s={};r.r(s),r.d(s,{GET:()=>E,dynamic:()=>d});var o=r(921),a=r(7380),i=r(4185),n=r(3878),u=r(8231),p=r(6415);let d="force-dynamic";async function E(e,{params:t}){try{let e=await fetch(`${u.H.RUNPOD_ENDPOINT_URL}/status/${t.jobId}`,{headers:{Authorization:`Bearer ${u.H.RUNPOD_API_KEY}`}});if(!e.ok)throw await e.json();let r=await e.json();return n.NextResponse.json({id:t.jobId,status:r.status,output:r.output})}catch(e){return(0,p.dh)(e)}}let _=new o.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/status/[jobId]/route",pathname:"/api/status/[jobId]",filename:"route",bundlePath:"app/api/status/[jobId]/route"},resolvedPagePath:"/home/ubuntu/CinematicAIGenerator/app/app/api/status/[jobId]/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:c,staticGenerationAsyncStorage:I,serverHooks:l}=_,P="/api/status/[jobId]/route";function R(){return(0,i.patchFetch)({serverHooks:l,staticGenerationAsyncStorage:I})}},8231:(e,t,r)=>{r.d(t,{H:()=>s});let s={RUNPOD_API_KEY:process.env.RUNPOD_API_KEY,RUNPOD_ENDPOINT_URL:process.env.RUNPOD_ENDPOINT_URL,RUNPOD_WEBHOOK_URL:process.env.RUNPOD_WEBHOOK_URL,MAX_FILE_SIZE:10485760,ALLOWED_FILE_TYPES:["image/jpeg","image/png","image/gif","video/mp4"],POLL_INTERVAL:2e3,MAX_POLL_TIME:3e5}},6415:(e,t,r)=>{r.d(t,{D0:()=>i,MS:()=>o,dh:()=>n,s3:()=>a});var s=r(8231);class o extends Error{constructor(e,t=500,r="INTERNAL_SERVER_ERROR"){super(e),this.status=t,this.code=r,this.name="ApiError"}}let a=async e=>new Promise((t,r)=>{let s=new FileReader;s.readAsDataURL(e),s.onload=()=>{t(s.result.split(",")[1])},s.onerror=e=>r(e)}),i=e=>{if(e.size>s.H.MAX_FILE_SIZE)throw new o("File size exceeds limit",400,"FILE_TOO_LARGE");if(!s.H.ALLOWED_FILE_TYPES.includes(e.type))throw new o("File type not supported",400,"INVALID_FILE_TYPE")},n=e=>{if(console.error("RunPod API Error:",e),e.response?.status===429)throw new o("Rate limit exceeded",429,"RATE_LIMIT_EXCEEDED");if(e.response?.status===401)throw new o("Invalid API key",401,"INVALID_API_KEY");throw new o(e.message||"An error occurred while processing your request",e.response?.status||500)}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[923,146],()=>r(2725));module.exports=s})();