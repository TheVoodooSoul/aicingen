"use strict";(()=>{var e={};e.id=841,e.ids=[841],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},4302:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>R,patchFetch:()=>I,requestAsyncStorage:()=>c,routeModule:()=>_,serverHooks:()=>P,staticGenerationAsyncStorage:()=>l});var o={};r.r(o),r.d(o,{POST:()=>E,dynamic:()=>u});var i=r(921),s=r(7380),n=r(4185),a=r(3878),p=r(8231),d=r(6415);let u="force-dynamic";async function E(e){try{let{url:t}=await e.json(),r=await fetch(`${p.H.RUNPOD_ENDPOINT_URL}/edit`,{method:"POST",headers:{Authorization:`Bearer ${p.H.RUNPOD_API_KEY}`,"Content-Type":"application/json"},body:JSON.stringify({url:t})});if(!r.ok)throw await r.json();let o=await r.json();return a.NextResponse.json(o)}catch(e){return(0,d.dh)(e)}}let _=new i.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/edit/route",pathname:"/api/edit",filename:"route",bundlePath:"app/api/edit/route"},resolvedPagePath:"/home/ubuntu/CinematicAIGenerator/app/app/api/edit/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:c,staticGenerationAsyncStorage:l,serverHooks:P}=_,R="/api/edit/route";function I(){return(0,n.patchFetch)({serverHooks:P,staticGenerationAsyncStorage:l})}},8231:(e,t,r)=>{r.d(t,{H:()=>o});let o={RUNPOD_API_KEY:process.env.RUNPOD_API_KEY,RUNPOD_ENDPOINT_URL:process.env.RUNPOD_ENDPOINT_URL,RUNPOD_WEBHOOK_URL:process.env.RUNPOD_WEBHOOK_URL,MAX_FILE_SIZE:10485760,ALLOWED_FILE_TYPES:["image/jpeg","image/png","image/gif","video/mp4"],POLL_INTERVAL:2e3,MAX_POLL_TIME:3e5}},6415:(e,t,r)=>{r.d(t,{D0:()=>n,MS:()=>i,dh:()=>a,s3:()=>s});var o=r(8231);class i extends Error{constructor(e,t=500,r="INTERNAL_SERVER_ERROR"){super(e),this.status=t,this.code=r,this.name="ApiError"}}let s=async e=>new Promise((t,r)=>{let o=new FileReader;o.readAsDataURL(e),o.onload=()=>{t(o.result.split(",")[1])},o.onerror=e=>r(e)}),n=e=>{if(e.size>o.H.MAX_FILE_SIZE)throw new i("File size exceeds limit",400,"FILE_TOO_LARGE");if(!o.H.ALLOWED_FILE_TYPES.includes(e.type))throw new i("File type not supported",400,"INVALID_FILE_TYPE")},a=e=>{if(console.error("RunPod API Error:",e),e.response?.status===429)throw new i("Rate limit exceeded",429,"RATE_LIMIT_EXCEEDED");if(e.response?.status===401)throw new i("Invalid API key",401,"INVALID_API_KEY");throw new i(e.message||"An error occurred while processing your request",e.response?.status||500)}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[923,146],()=>r(4302));module.exports=o})();