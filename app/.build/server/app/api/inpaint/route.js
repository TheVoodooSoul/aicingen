"use strict";(()=>{var e={};e.id=354,e.ids=[354],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},7922:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>R,patchFetch:()=>I,requestAsyncStorage:()=>c,routeModule:()=>_,serverHooks:()=>P,staticGenerationAsyncStorage:()=>l});var n={};r.r(n),r.d(n,{POST:()=>E,dynamic:()=>d});var i=r(921),o=r(7380),s=r(4185),a=r(3878),p=r(8231),u=r(6415);let d="force-dynamic";async function E(e){try{let{url:t}=await e.json(),r=await fetch(`${p.H.RUNPOD_ENDPOINT_URL}/inpaint`,{method:"POST",headers:{Authorization:`Bearer ${p.H.RUNPOD_API_KEY}`,"Content-Type":"application/json"},body:JSON.stringify({url:t})});if(!r.ok)throw await r.json();let n=await r.json();return a.NextResponse.json(n)}catch(e){return(0,u.dh)(e)}}let _=new i.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/inpaint/route",pathname:"/api/inpaint",filename:"route",bundlePath:"app/api/inpaint/route"},resolvedPagePath:"/home/ubuntu/CinematicAIGenerator/app/app/api/inpaint/route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:c,staticGenerationAsyncStorage:l,serverHooks:P}=_,R="/api/inpaint/route";function I(){return(0,s.patchFetch)({serverHooks:P,staticGenerationAsyncStorage:l})}},8231:(e,t,r)=>{r.d(t,{H:()=>n});let n={RUNPOD_API_KEY:process.env.RUNPOD_API_KEY,RUNPOD_ENDPOINT_URL:process.env.RUNPOD_ENDPOINT_URL,RUNPOD_WEBHOOK_URL:process.env.RUNPOD_WEBHOOK_URL,MAX_FILE_SIZE:10485760,ALLOWED_FILE_TYPES:["image/jpeg","image/png","image/gif","video/mp4"],POLL_INTERVAL:2e3,MAX_POLL_TIME:3e5}},6415:(e,t,r)=>{r.d(t,{D0:()=>s,MS:()=>i,dh:()=>a,s3:()=>o});var n=r(8231);class i extends Error{constructor(e,t=500,r="INTERNAL_SERVER_ERROR"){super(e),this.status=t,this.code=r,this.name="ApiError"}}let o=async e=>new Promise((t,r)=>{let n=new FileReader;n.readAsDataURL(e),n.onload=()=>{t(n.result.split(",")[1])},n.onerror=e=>r(e)}),s=e=>{if(e.size>n.H.MAX_FILE_SIZE)throw new i("File size exceeds limit",400,"FILE_TOO_LARGE");if(!n.H.ALLOWED_FILE_TYPES.includes(e.type))throw new i("File type not supported",400,"INVALID_FILE_TYPE")},a=e=>{if(console.error("RunPod API Error:",e),e.response?.status===429)throw new i("Rate limit exceeded",429,"RATE_LIMIT_EXCEEDED");if(e.response?.status===401)throw new i("Invalid API key",401,"INVALID_API_KEY");throw new i(e.message||"An error occurred while processing your request",e.response?.status||500)}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[923,146],()=>r(7922));module.exports=n})();